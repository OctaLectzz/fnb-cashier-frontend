import{Q as de}from"./QTooltip.f1d1a369.js";import{aE as ve,r as b,o as ae,c as F,as as te,x as w,y as le,j as l,C as r,a7 as R,a8 as f,a5 as a,aa as s,aw as P,a4 as v,ab as D,aF as T,at as h,av as n,ax as p,bC as ue,a_ as ge,B as I,a9 as ie,bs as ee,a6 as $e,F as _e,aG as G,au as fe}from"./index.c5c224d7.js";import{a as ye,b as Q,Q as xe,c as we}from"./QTable.a083a63f.js";import{Q as K}from"./QResponsive.fed81289.js";import{Q as ce,a as H}from"./QSelect.c9c2d97b.js";import{Q as qe}from"./QPage.3aaead71.js";import{l as S}from"./index.312ab613.js";import{u as Ve}from"./use-quasar.b8bd78f1.js";import{server as B,headers as J,headersImage as re,currentbranch as W,url as X}from"./axios.77a133fc.js";import{rupiah as q}from"./rupiah.ed064363.js";import{a as me}from"./QSpace.a03e9777.js";import{Q as pe}from"./QSpinnerGears.6f2d9496.js";import{Q as he}from"./QForm.a8be0ad3.js";import{C as Y}from"./ClosePopup.92e28685.js";import{u as be}from"./category-store.09827dc8.js";import{u as se}from"./vue-i18n.runtime.b7fd988f.js";import"./QMenu.00791af1.js";import"./selection.eb4ba370.js";import"./use-fullscreen.e292b254.js";import"./use-ratio.5f2389ab.js";import"./QItem.af557ec6.js";import"./QItemLabel.ccd450ac.js";import"./format.959830d0.js";const Z=ve("product",{actions:{async all(){return await B.get("api/product",{headers:J})},async branch(m){return await B.get(`api/product/branch/${m}`,{headers:J})},async show(m){return await B.get(`api/product/${m}`,{headers:J})},async create(m){return await B.post("api/product",m,{headers:re})},async edit(m){return await B.post(`api/product/${m.id}`,m,{headers:re})},async delete(m){return await B.delete(`api/product/${m}`,{headers:J})}}}),ke={class:"text-h6"},Ce={class:"row justify-center"},Te={class:"col-lg-2 col-md-3 q-pa-md"},Ue={class:"text-body1 text-bold"},Ie={class:"flex flex-center"},Qe=["src"],De={class:"text-subtitle2 text-grey-7"},Pe={class:"text-red"},Re={class:"col-lg-9 col-md-8 q-pa-md"},Ee={class:"text-body1 text-bold"},Ae={class:"row justify-center"},Be={class:"col-12 q-pa-sm"},Fe={class:"text-bold"},Se={class:"text-red"},Le={class:"col-md-6 col-xs-12 q-pa-sm"},Me={class:"text-bold"},je={class:"text-red"},Ne={class:"col-md-6 col-xs-12 q-pa-sm"},Oe={class:"text-bold"},ze={class:"text-red"},Ge={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},He={class:"text-bold"},Je={class:"text-grey"},Ke={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},We={class:"text-bold"},Xe={class:"text-grey"},Ye={class:"col-md-4 col-xs-12 q-pa-sm"},Ze={class:"text-bold"},ea={class:"text-red"},aa={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ta={class:"text-bold"},la={class:"text-grey"},sa={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},oa={class:"text-bold"},da={class:"text-grey"},ia={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ra={class:"text-bold"},na={class:"text-grey"},ua={class:"col-md-4 col-xs-12 q-pa-sm"},ca={class:"text-bold"},ma={class:"text-red"},pa={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ha={class:"text-bold"},ba={class:"text-grey"},va={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ga={class:"text-bold"},$a={class:"text-red"},_a={__name:"CreateProduct",emits:["created"],setup(m,{emit:V}){const{t:c}=se(),L=V,o=b({branch_id:W,image:"product-default.jpg",sku:"",name:"",category_id:null,category:"",min_purchase:null,selling_price:"",purchase_price:"",unit:"",weight:"",length:"",width:"",height:"",status:1}),g=b([]),y=b([]),M=async()=>{try{const e=await be().branch(W);g.value=e.data.data.map(t=>({id:t.id,label:t.name,value:t.name})),y.value=[...g.value]}catch(e){console.error("Error fetching data:",e)}},E=(e,t,i)=>{t(()=>{const d=e.toLowerCase();y.value=g.value.filter(C=>C.value.toLowerCase().indexOf(d)>-1)})};ae(()=>{M()});const U=b(null),j=async e=>{e.preventDefault();const t=e.target.files[0];if(o.value.image=e.target.files[0],t){const i=new FileReader;i.onload=()=>{U.value.src=i.result},i.readAsDataURL(t)}},x=b({name:[e=>!!e||c("dashboard.main.product.validate.nameRequired"),e=>e.length<=255||c("dashboard.main.product.validate.nameMaxLength")],category:[e=>!!e||c("dashboard.main.product.validate.categoryRequired")],sku:[e=>!!e||c("dashboard.main.product.validate.skuRequired"),e=>e.length<=10||c("dashboard.main.product.validate.skuMaxLength")],purchase_price:[e=>!!e||c("dashboard.main.product.validate.purchasePriceRequired")],unit:[e=>!!e||c("dashboard.main.product.validate.unitRequired"),e=>e.length<=10||c("dashboard.main.product.validate.unitMaxLength")]}),$=b(!1),k=F(()=>$.value||!o.value.name||!o.value.sku||!o.value.category||!o.value.purchase_price),A=async()=>{$.value=!0;try{o.value.category&&(o.value.category_id=g.value.find(e=>e.label===o.value.category).id),await Z().create(o.value),S.success(c("dashboard.main.product.successCreateMsg")),L("created")}catch(e){console.error("Error submitting form:",e),S.error(e.response.data.message||c("dashboard.main.product.failedCreateMsg"))}$.value=!1},_=b({selling_price:F({get(){return q(o.value.selling_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.selling_price=parseInt(t,10)||0}}),purchase_price:F({get(){return q(o.value.purchase_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.purchase_price=parseInt(t,10)||0}})}),u=e=>{_.value[e]=q(o.value[e])};return(e,t)=>{const i=te("uppercase");return w(),le("div",null,[l(he,{onSubmit:A},{default:r(()=>[l(R,{style:{"min-width":"400px"}},{default:r(()=>[l(f,{class:"row items-center q-py-sm"},{default:r(()=>[a("div",ke,s(e.$t("dashboard.main.product.createText")),1),l(me),P(l(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[Y]])]),_:1}),l(D),l(f,{class:"scroll",style:{height:"77vh"}},{default:r(()=>[a("div",Ce,[a("div",Te,[l(R,{class:"q-pb-xl"},{default:r(()=>[l(f,{class:T(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:r(()=>[a("div",Ue,s(e.$t("dashboard.main.product.data.image")),1)]),_:1},8,["class"]),l(D),l(f,{class:"text-center q-pa-md"},{default:r(()=>[a("div",Ie,[l(K,{ratio:1/1,class:"col q-my-xs",style:{width:"220px"}},{default:r(()=>[a("img",{ref_key:"image",ref:U,src:h(X)+"/products/"+o.value.image},null,8,Qe)]),_:1})]),a("div",De,[n(s(e.$t("public.imageType"))+" ",1),a("span",Pe,s(e.$t("public.requiredText")),1)]),l(v,{color:"primary",class:"q-my-md",label:e.$t("public.uploadBtn"),onClick:t[0]||(t[0]=d=>e.$refs.imageInput.click()),"no-caps":""},null,8,["label"]),a("input",{type:"file",ref:"imageInput",style:{display:"none"},accept:"image/*",onChange:j},null,544)]),_:1})]),_:1})]),a("div",Re,[l(R,{class:"q-pb-xl",style:{height:"100%"}},{default:r(()=>[l(f,{class:T(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:r(()=>[a("div",Ee,s(e.$t("dashboard.main.product.detailCard")),1)]),_:1},8,["class"]),l(D),l(f,{class:"q-pa-md"},{default:r(()=>[a("div",Ae,[a("div",Be,[a("div",Fe,[n(s(e.$t("dashboard.main.product.data.name"))+" ",1),a("span",Se,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value.name=d),placeholder:e.$t("public.exampleText")+"Chocolate Cake",rules:x.value.name,outlined:"",dense:"",required:"",autofocus:""},null,8,["modelValue","placeholder","rules"])]),a("div",Le,[a("div",Me,[n(s(e.$t("dashboard.main.product.data.category"))+" ",1),a("span",je,s(e.$t("public.requiredText")),1)]),l(ce,{modelValue:o.value.category,"onUpdate:modelValue":t[2]||(t[2]=d=>o.value.category=d),options:y.value,onFilter:E,"input-debounce":"0","use-input":"","fill-input":"","emit-value":"","hide-selected":"",outlined:"",dense:"",required:""},null,8,["modelValue","options"])]),a("div",Ne,[a("div",Oe,[n(s(e.$t("dashboard.main.product.data.sku"))+" ",1),a("span",ze,s(e.$t("public.requiredText")),1)]),P(l(p,{modelValue:o.value.sku,"onUpdate:modelValue":t[3]||(t[3]=d=>o.value.sku=d),placeholder:e.$t("public.exampleText")+"CS0001",rules:x.value.sku,outlined:"",dense:"",required:""},null,8,["modelValue","placeholder","rules"]),[[i]])]),a("div",Ge,[a("div",He,[n(s(e.$t("dashboard.main.product.data.minPurchase"))+" ",1),a("span",Je,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.min_purchase,"onUpdate:modelValue":t[4]||(t[4]=d=>o.value.min_purchase=d),type:"number",placeholder:"Default : 1",mask:"####",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Ke,[a("div",We,[n(s(e.$t("dashboard.main.product.data.sellingPrice"))+" ",1),a("span",Xe,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:_.value.selling_price,"onUpdate:modelValue":t[5]||(t[5]=d=>_.value.selling_price=d),onInput:t[6]||(t[6]=d=>u("selling_price")),outlined:"",dense:""},null,8,["modelValue"])]),a("div",Ye,[a("div",Ze,[n(s(e.$t("dashboard.main.product.data.purchasePrice"))+" ",1),a("span",ea,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:_.value.purchase_price,"onUpdate:modelValue":t[7]||(t[7]=d=>_.value.purchase_price=d),rules:x.value.purchase_price,onInput:t[8]||(t[8]=d=>u("purchase_price")),outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",aa,[a("div",ta,[n(s(e.$t("dashboard.main.product.data.length"))+"(cm) ",1),a("span",la,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.length,"onUpdate:modelValue":t[9]||(t[9]=d=>o.value.length=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",sa,[a("div",oa,[n(s(e.$t("dashboard.main.product.data.width"))+"(cm) ",1),a("span",da,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.width,"onUpdate:modelValue":t[10]||(t[10]=d=>o.value.width=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ia,[a("div",ra,[n(s(e.$t("dashboard.main.product.data.height"))+"(cm) ",1),a("span",na,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.height,"onUpdate:modelValue":t[11]||(t[11]=d=>o.value.height=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ua,[a("div",ca,[n(s(e.$t("dashboard.main.product.data.unit"))+" ",1),a("span",ma,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.unit,"onUpdate:modelValue":t[12]||(t[12]=d=>o.value.unit=d),rules:x.value.unit,placeholder:"Porsi",outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",pa,[a("div",ha,[n(s(e.$t("dashboard.main.product.data.weight"))+"(gram) ",1),a("span",ba,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.weight,"onUpdate:modelValue":t[13]||(t[13]=d=>o.value.weight=d),type:"number",placeholder:"20 gram",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",va,[a("div",ga,[n(s(e.$t("dashboard.main.product.data.status"))+" ",1),a("span",$a,s(e.$t("public.requiredText")),1)]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[14]||(t[14]=d=>o.value.status=d),color:"green",label:e.$t("dashboard.main.product.data.statusActive"),outline:o.value.status==0,class:"q-mx-xs",onClick:t[15]||(t[15]=d=>o.value.status=1)},null,8,["modelValue","label","outline"]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[16]||(t[16]=d=>o.value.status=d),color:"red",label:e.$t("dashboard.main.product.data.statusInactive"),outline:o.value.status==1,class:"q-mx-xs",onClick:t[17]||(t[17]=d=>o.value.status=0)},null,8,["modelValue","label","outline"])])])]),_:1})]),_:1})])])]),_:1}),l(D),l(ue,{align:"right",class:"text-primary"},{default:r(()=>[P(l(v,{color:"primary",label:h(c)("public.cancelText"),flat:""},null,8,["label"]),[[Y]]),l(v,{type:"submit",color:"primary",label:h(c)("public.createText"),loading:$.value,disable:k.value},{loading:r(()=>[l(pe)]),_:1},8,["label","loading","disable"])]),_:1})]),_:1})]),_:1})])}}},fa={class:"text-h6"},ya={class:"row justify-center"},xa={class:"col-lg-2 col-md-3 q-pa-md"},wa={class:"text-body1 text-bold"},qa={class:"flex flex-center"},Va=["src"],ka={class:"text-subtitle2 text-grey-7"},Ca={class:"text-red"},Ta={class:"col-lg-9 col-md-8 q-pa-md"},Ua={class:"text-body1 text-bold"},Ia={class:"row justify-center"},Qa={class:"col-12 q-pa-sm"},Da={class:"text-bold"},Pa={class:"text-red"},Ra={class:"col-md-6 col-xs-12 q-pa-sm"},Ea={class:"text-bold"},Aa={class:"text-red"},Ba={class:"col-md-6 col-xs-12 q-pa-sm"},Fa={class:"text-bold"},Sa={class:"text-red"},La={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Ma={class:"text-bold"},ja={class:"text-grey"},Na={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Oa={class:"text-bold"},za={class:"text-grey"},Ga={class:"col-md-4 col-xs-12 q-pa-sm"},Ha={class:"text-bold"},Ja={class:"text-red"},Ka={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Wa={class:"text-bold"},Xa={class:"text-grey"},Ya={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Za={class:"text-bold"},et={class:"text-grey"},at={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},tt={class:"text-bold"},lt={class:"text-grey"},st={class:"col-md-4 col-xs-12 q-pa-sm"},ot={class:"text-bold"},dt={class:"text-red"},it={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},rt={class:"text-bold"},nt={class:"text-grey"},ut={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ct={class:"text-bold"},mt={class:"text-red"},ne={__name:"EditProduct",props:["item"],emits:["edited"],setup(m,{emit:V}){const{t:c}=se(),L=V,o=b({id:m.item.id,image:m.item.image,sku:m.item.sku,name:m.item.name,category_id:m.item.category_id,category:m.item.category,min_purchase:m.item.min_purchase,selling_price:m.item.selling_price,purchase_price:m.item.purchase_price,unit:m.item.unit,weight:m.item.weight,length:m.item.length,width:m.item.width,height:m.item.height,status:m.item.status}),g=b([]),y=b([]),M=async()=>{try{const e=await be().branch(W);g.value=e.data.data.map(t=>({id:t.id,label:t.name,value:t.name})),y.value=[...g.value]}catch(e){console.error("Error fetching data:",e)}},E=(e,t,i)=>{t(()=>{const d=e.toLowerCase();y.value=g.value.filter(C=>C.value.toLowerCase().indexOf(d)>-1)})};ae(()=>{M()});const U=b(null),j=async e=>{e.preventDefault();const t=e.target.files[0];if(o.value.image=e.target.files[0],t){const i=new FileReader;i.onload=()=>{U.value.src=i.result},i.readAsDataURL(t)}},x=b({name:[e=>!!e||c("dashboard.main.product.validate.nameRequired"),e=>e.length<=255||c("dashboard.main.product.validate.nameMaxLength")],category:[e=>!!e||c("dashboard.main.product.validate.categoryRequired")],sku:[e=>!!e||c("dashboard.main.product.validate.skuRequired"),e=>e.length<=10||c("dashboard.main.product.validate.skuMaxLength")],purchase_price:[e=>!!e||c("dashboard.main.product.validate.purchasePriceRequired")],unit:[e=>!!e||c("dashboard.main.product.validate.unitRequired"),e=>e.length<=10||c("dashboard.main.product.validate.unitMaxLength")]}),$=b(!1),k=F(()=>$.value||!o.value.name||!o.value.sku||!o.value.category||!o.value.purchase_price),A=async()=>{$.value=!0;try{o.value.category&&(o.value.category_id=g.value.find(e=>e.label===o.value.category).id),await Z().edit(o.value),S.success(c("dashboard.main.product.successEditMsg")),L("edited")}catch(e){console.error("Error submitting form:",e),S.error(e.response.data.message||c("dashboard.main.product.failedEditMsg"))}$.value=!1},_=b({selling_price:F({get(){return q(o.value.selling_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.selling_price=parseInt(t,10)||0}}),purchase_price:F({get(){return q(o.value.purchase_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.purchase_price=parseInt(t,10)||0}})}),u=e=>{_.value[e]=q(o.value[e])};return(e,t)=>{const i=te("uppercase");return w(),le("div",null,[l(he,{onSubmit:A},{default:r(()=>[l(R,{style:{"min-width":"400px"}},{default:r(()=>[l(f,{class:"row items-center q-py-sm"},{default:r(()=>[a("div",fa,s(e.$t("dashboard.main.product.editText")),1),l(me),P(l(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[Y]])]),_:1}),l(D),l(f,{class:"scroll",style:{height:"77vh"}},{default:r(()=>[a("div",ya,[a("div",xa,[l(R,{class:"q-pb-xl"},{default:r(()=>[l(f,{class:T(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:r(()=>[a("div",wa,s(e.$t("dashboard.main.product.data.image")),1)]),_:1},8,["class"]),l(D),l(f,{class:"text-center q-pa-md"},{default:r(()=>[a("div",qa,[l(K,{ratio:1/1,class:"col q-my-xs",style:{width:"220px"}},{default:r(()=>[a("img",{ref_key:"image",ref:U,src:h(X)+"/products/"+o.value.image},null,8,Va)]),_:1})]),a("div",ka,[n(s(e.$t("public.imageType"))+" ",1),a("span",Ca,s(e.$t("public.requiredText")),1)]),l(v,{color:"primary",class:"q-my-md",label:e.$t("public.uploadBtn"),onClick:t[0]||(t[0]=d=>e.$refs.imageInput.click()),"no-caps":""},null,8,["label"]),a("input",{type:"file",ref:"imageInput",style:{display:"none"},accept:"image/*",onChange:j},null,544)]),_:1})]),_:1})]),a("div",Ta,[l(R,{class:"q-pb-xl",style:{height:"100%"}},{default:r(()=>[l(f,{class:T(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:r(()=>[a("div",Ua,s(e.$t("dashboard.main.product.detailCard")),1)]),_:1},8,["class"]),l(D),l(f,{class:"q-pa-md"},{default:r(()=>[a("div",Ia,[a("div",Qa,[a("div",Da,[n(s(e.$t("dashboard.main.product.data.name"))+" ",1),a("span",Pa,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value.name=d),placeholder:e.$t("public.exampleText")+"Chocolate Cake",rules:x.value.name,outlined:"",dense:"",required:"",autofocus:""},null,8,["modelValue","placeholder","rules"])]),a("div",Ra,[a("div",Ea,[n(s(e.$t("dashboard.main.product.data.category"))+" ",1),a("span",Aa,s(e.$t("public.requiredText")),1)]),l(ce,{modelValue:o.value.category,"onUpdate:modelValue":t[2]||(t[2]=d=>o.value.category=d),options:y.value,onFilter:E,"input-debounce":"0","use-input":"","fill-input":"","emit-value":"","hide-selected":"",outlined:"",dense:"",required:""},null,8,["modelValue","options"])]),a("div",Ba,[a("div",Fa,[n(s(e.$t("dashboard.main.product.data.sku"))+" ",1),a("span",Sa,s(e.$t("public.requiredText")),1)]),P(l(p,{modelValue:o.value.sku,"onUpdate:modelValue":t[3]||(t[3]=d=>o.value.sku=d),placeholder:e.$t("public.exampleText")+"CS0001",rules:x.value.sku,outlined:"",dense:"",required:""},null,8,["modelValue","placeholder","rules"]),[[i]])]),a("div",La,[a("div",Ma,[n(s(e.$t("dashboard.main.product.data.minPurchase"))+" ",1),a("span",ja,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.min_purchase,"onUpdate:modelValue":t[4]||(t[4]=d=>o.value.min_purchase=d),type:"number",placeholder:"Default : 1",mask:"####",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Na,[a("div",Oa,[n(s(e.$t("dashboard.main.product.data.sellingPrice"))+" ",1),a("span",za,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:_.value.selling_price,"onUpdate:modelValue":t[5]||(t[5]=d=>_.value.selling_price=d),onInput:t[6]||(t[6]=d=>u("selling_price")),outlined:"",dense:""},null,8,["modelValue"])]),a("div",Ga,[a("div",Ha,[n(s(e.$t("dashboard.main.product.data.purchasePrice"))+" ",1),a("span",Ja,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:_.value.purchase_price,"onUpdate:modelValue":t[7]||(t[7]=d=>_.value.purchase_price=d),rules:x.value.purchase_price,onInput:t[8]||(t[8]=d=>u("purchase_price")),outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",Ka,[a("div",Wa,[n(s(e.$t("dashboard.main.product.data.length"))+"(cm) ",1),a("span",Xa,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.length,"onUpdate:modelValue":t[9]||(t[9]=d=>o.value.length=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Ya,[a("div",Za,[n(s(e.$t("dashboard.main.product.data.width"))+"(cm) ",1),a("span",et,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.width,"onUpdate:modelValue":t[10]||(t[10]=d=>o.value.width=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",at,[a("div",tt,[n(s(e.$t("dashboard.main.product.data.height"))+"(cm) ",1),a("span",lt,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.height,"onUpdate:modelValue":t[11]||(t[11]=d=>o.value.height=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",st,[a("div",ot,[n(s(e.$t("dashboard.main.product.data.unit"))+" ",1),a("span",dt,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.unit,"onUpdate:modelValue":t[12]||(t[12]=d=>o.value.unit=d),rules:x.value.unit,placeholder:"Porsi",outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",it,[a("div",rt,[n(s(e.$t("dashboard.main.product.data.weight"))+"(gram) ",1),a("span",nt,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.weight,"onUpdate:modelValue":t[13]||(t[13]=d=>o.value.weight=d),type:"number",placeholder:"20 gram",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ut,[a("div",ct,[n(s(e.$t("dashboard.main.product.data.status"))+" ",1),a("span",mt,s(e.$t("public.requiredText")),1)]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[14]||(t[14]=d=>o.value.status=d),color:"green",label:e.$t("dashboard.main.product.data.statusActive"),outline:o.value.status==0,class:"q-mx-xs",onClick:t[15]||(t[15]=d=>o.value.status=1)},null,8,["modelValue","label","outline"]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[16]||(t[16]=d=>o.value.status=d),color:"red",label:e.$t("dashboard.main.product.data.statusInactive"),outline:o.value.status==1,class:"q-mx-xs",onClick:t[17]||(t[17]=d=>o.value.status=0)},null,8,["modelValue","label","outline"])])])]),_:1})]),_:1})])])]),_:1}),l(D),l(ue,{align:"right",class:"text-primary"},{default:r(()=>[P(l(v,{color:"primary",label:h(c)("public.cancelText"),flat:""},null,8,["label"]),[[Y]]),l(v,{type:"submit",color:"primary",label:h(c)("public.editText"),loading:$.value,disable:k.value},{loading:r(()=>[l(pe)]),_:1},8,["label","loading","disable"])]),_:1})]),_:1})]),_:1})])}}},pt={class:"text-body2 text-bold text-center q-pa-md"},ht=["src"],bt={class:"text-h6 text-bold"},vt={class:"text-subtitle2"},gt={class:"text-body1 q-ma-sm"},$t={class:"text-bold"},_t={class:"text-body1 q-ma-sm"},ft={class:"text-bold"},yt={class:"text-body1 q-ma-sm"},xt={class:"text-bold"},wt={class:"text-body1 q-ma-sm"},qt={class:"text-bold"},Vt={class:"text-body1 q-ma-sm"},kt={class:"text-bold"},Ct={class:"text-body1 q-ma-sm"},Tt={class:"text-bold"},Ut=["src"],It={class:"text-h6 text-bold text-center"},Qt={class:"text-subtitle2 text-center"},Dt={class:"text-body1 q-ma-sm"},Pt={class:"text-bold"},Rt={class:"text-body1 q-ma-sm"},Et={class:"text-bold"},At={class:"text-body1 q-ma-sm"},Bt={class:"text-bold"},Ft={class:"text-body1 q-ma-sm"},St={class:"text-bold"},Lt={class:"text-body1 q-ma-sm"},Mt={class:"text-bold"},jt={class:"text-body1 q-ma-sm"},Nt={class:"text-bold"},Ot={class:"absolute absolute-bottom-right"},zt={class:"absolute absolute-bottom-left"},bl={__name:"IndexProduct",setup(m){const V=Ve(),{t:c}=se(),L=ge(),o=b([]),g=async()=>{try{const u=await Z().branch(W);o.value=u.data.data}catch(u){console.error("Error fetching data:",u),u.response.data.status==="failed"&&L.push("/notfound")}};ae(()=>{g()});const y=b(!1),M=()=>{y.value=!1,g()},E=u=>{u.editItemDialog=!1,g()},U=u=>{V.dialog({title:c("dashboard.warningTitle"),message:c("dashboard.warningText"),cancel:!0,persistent:!0}).onOk(async()=>{try{await Z().delete(u.id),S.success(c("dashboard.main.product.successDeleteMsg")),g()}catch(e){console.error("Error submitting form:",e),S.error(e.response.data.message||c("dashboard.main.product.failedDeleteMsg"))}})},j=o,x=[{name:"id",field:"id",label:"No",align:"center"},{name:"sku",field:"sku",label:c("dashboard.main.product.data.sku"),align:"center",sortable:!0},{name:"image",field:"image",label:c("dashboard.main.product.data.image"),align:"center"},{name:"name",field:"name",label:c("dashboard.main.product.data.name"),align:"left",sortable:!0},{name:"price",field:"price",label:c("dashboard.main.product.data.price"),align:"left"},{name:"volume",field:"volume",label:c("dashboard.main.product.data.volume"),align:"left"},{name:"status",field:"status",label:c("dashboard.main.product.data.status"),align:"center",sortable:!0},{name:"action",field:"action",label:c("dashboard.actionTable"),align:"center"}],$=b(""),k=b(!1),A=b({}),_=u=>{u.toggleFullscreen()};return(u,e)=>{const t=te("viewer");return w(),I(qe,{class:"q-pa-md"},{default:r(()=>[l(xe,{pagination:A.value,"onUpdate:pagination":e[4]||(e[4]=i=>A.value=i),"rows-per-page-options":[10,20,30],class:T([h(V).dark.isActive?"text-grey-4":"text-grey-9","dashboard-table"]),rows:h(j),columns:x,"hide-header":k.value,grid:k.value,filter:$.value,separator:"cell",title:u.$t("dashboard.main.product.titleText"),"row-key":"__index","virtual-scroll":"",flat:"",bordered:""},{"top-right":r(i=>[l(v,{color:"primary",icon:i.inFullscreen?"fullscreen_exit":"fullscreen",onClick:d=>_(i),flat:"",round:"",dense:""},{default:r(()=>[l(de,null,{default:r(()=>[n(s(i.inFullscreen?u.$t("dashboard.fullscreenExitBtn"):u.$t("dashboard.fullscreenBtn")),1)]),_:2},1024)]),_:2},1032,["icon","onClick"]),l(v,{color:"primary",icon:k.value?"list":"grid_on",onClick:e[0]||(e[0]=d=>k.value=!k.value),class:"q-mr-sm",flat:"",round:"",dense:""},{default:r(()=>[l(de,null,{default:r(()=>[n(s(k.value?u.$t("dashboard.listBtn"):u.$t("dashboard.gridBtn")),1)]),_:1})]),_:1},8,["icon"]),l(p,{modelValue:$.value,"onUpdate:modelValue":e[1]||(e[1]=d=>$.value=d),placeholder:u.$t("public.searchText"),debounce:"300",outlined:"",dense:""},{append:r(()=>[l(ie,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),"top-left":r(()=>[l(v,{color:"primary",label:u.$t("dashboard.main.product.createText"),class:"shadow-3 q-my-sm",onClick:e[2]||(e[2]=i=>y.value=!0),"no-caps":""},null,8,["label"]),l(ee,{modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=i=>y.value=i),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:r(()=>[l(_a,{onCreated:M})]),_:1},8,["modelValue"])]),header:r(i=>[l(ye,{props:i},{default:r(()=>[(w(!0),le(_e,null,$e(i.cols,d=>(w(),I(we,{key:d.name,props:i,class:T(h(V).dark.isActive?"bg-blue-grey-10":"bg-grey-2"),style:{"font-weight":"bolder","font-size":"13px"}},{default:r(()=>[n(s(d.label),1)]),_:2},1032,["props","class"]))),128))]),_:2},1032,["props"])]),"no-data":r(()=>[a("div",pt,[l(ie,{name:"warning_amber",size:"25px",class:"q-mx-sm"}),n(" "+s(u.$t("dashboard.noDataText")),1)])]),"body-cell-id":r(i=>[l(Q,{props:i},{default:r(()=>[n(s(i.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-sku":r(i=>[l(Q,{props:i},{default:r(()=>[a("div",{class:T(["rounded-borders",h(V).dark.isActive?"bg-blue-10":"bg-blue-2"])},[a("div",{class:T(["text-bold q-pa-xs",h(V).dark.isActive?"text-blue-2":"text-blue-8"])},s(i.row.sku),3)],2)]),_:2},1032,["props"])]),"body-cell-image":r(i=>[l(Q,{props:i},{default:r(()=>[P((w(),I(K,{ratio:1/1,style:{width:"120px"}},{default:r(()=>[a("img",{src:h(X)+"/products/"+i.row.image,class:"dashboard-image"},null,8,ht)]),_:2},1024)),[[t]])]),_:2},1032,["props"])]),"body-cell-name":r(i=>[l(Q,{props:i},{default:r(()=>[a("div",bt,s(i.row.name),1),a("div",vt,s(i.row.category),1)]),_:2},1032,["props"])]),"body-cell-price":r(i=>[l(Q,{props:i},{default:r(()=>{var d;return[a("div",gt,[a("span",$t,s(u.$t("dashboard.main.product.data.minPurchase"))+" :",1),n(" "+s(i.row.min_purchase),1)]),a("div",_t,[a("span",ft,s(u.$t("dashboard.main.product.data.purchasePrice"))+" :",1),n(" "+s(h(q)(i.row.purchase_price)),1)]),a("div",yt,[a("span",xt,s(u.$t("dashboard.main.product.data.sellingPrice"))+" :",1),n(" "+s((d=h(q)(i.row.selling_price))!=null?d:"-"),1)])]}),_:2},1032,["props"])]),"body-cell-volume":r(i=>[l(Q,{props:i},{default:r(()=>{var d,C,N,O;return[a("div",wt,[a("span",qt,s(u.$t("dashboard.main.product.data.unit"))+" :",1),n(" "+s(i.row.unit),1)]),a("div",Vt,[a("span",kt,s(u.$t("dashboard.main.product.data.weight"))+" :",1),n(" "+s((d=i.row.weight)!=null?d:"-"),1)]),a("div",Ct,[a("span",Tt,s(u.$t("dashboard.main.product.data.volume"))+" "+s(u.$t("dashboard.main.product.data.volumeDetail"))+" :",1),n(" "+s((C=i.row.length)!=null?C:"-")+"cm x "+s((N=i.row.width)!=null?N:"-")+"cm x "+s((O=i.row.height)!=null?O:"-")+"cm ",1)])]}),_:2},1032,["props"])]),"body-cell-status":r(i=>[l(Q,{props:i},{default:r(()=>[i.row.status==1?(w(),I(H,{key:0,color:"green","text-color":"white",icon:"task_alt",label:u.$t("dashboard.main.product.data.statusActive")},null,8,["label"])):G("",!0),i.row.status==0?(w(),I(H,{key:1,color:"red","text-color":"white",icon:"warning",label:u.$t("dashboard.main.product.data.statusInactive")},null,8,["label"])):G("",!0)]),_:2},1032,["props"])]),"body-cell-action":r(i=>[l(Q,{props:i},{default:r(()=>[l(v,{color:"warning",field:"edit",icon:"edit",class:"q-mx-xs",onClick:d=>i.row.editItemDialog=!0,dense:"",round:""},{default:r(()=>[l(ee,{modelValue:i.row.editItemDialog,"onUpdate:modelValue":d=>i.row.editItemDialog=d,"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:r(()=>[l(ne,{onEdited:d=>E(i.row),item:i.row},null,8,["onEdited","item"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),l(v,{color:"red",field:"delete",icon:"delete",class:"q-mx-xs",onClick:d=>U(i.row),dense:"",round:""},null,8,["onClick"])]),_:2},1032,["props"])]),item:r(i=>[a("div",{class:"dashboard-card q-pa-md col-xs-12 col-sm-4 col-md-4 col-lg-4 grid-style-transition",style:fe(i.selected?"transform: scale(0.95);":"")},[l(R,{class:T([h(V).dark.isActive?"text-grey-4":"text-grey-9","dashboard-card q-pa-md"])},{default:r(()=>[P((w(),I(K,{ratio:1/1,style:{width:"100%"}},{default:r(()=>[a("img",{src:h(X)+"/products/"+i.row.image,class:"dashboard-image"},null,8,Ut)]),_:2},1024)),[[t]]),a("div",It,s(i.row.name),1),a("div",Qt,s(i.row.category),1),l(f,{class:"q-pb-xl"},{default:r(()=>{var d,C,N,O,oe;return[a("div",Dt,[a("span",Pt,s(u.$t("dashboard.main.product.data.minPurchase"))+" :",1),n(" "+s(h(q)(i.row.min_purchase)),1)]),a("div",Rt,[a("span",Et,s(u.$t("dashboard.main.product.data.purchasePrice"))+" :",1),n(" "+s(h(q)(i.row.purchase_price)),1)]),a("div",At,[a("span",Bt,s(u.$t("dashboard.main.product.data.sellingPrice"))+" :",1),n(" "+s((d=h(q)(i.row.selling_price))!=null?d:"-"),1)]),a("div",Ft,[a("span",St,s(u.$t("dashboard.main.product.data.unit"))+" :",1),n(" "+s(i.row.unit),1)]),a("div",Lt,[a("span",Mt,s(u.$t("dashboard.main.product.data.weight"))+" :",1),n(" "+s((C=i.row.weight)!=null?C:"-"),1)]),a("div",jt,[a("span",Nt,s(u.$t("dashboard.main.product.data.volumeDetail"))+" :",1),n(" "+s((N=i.row.length)!=null?N:"-")+"cm x "+s((O=i.row.width)!=null?O:"-")+"cm x "+s((oe=i.row.height)!=null?oe:"-")+"cm ",1)]),a("div",Ot,[i.row.status==1?(w(),I(H,{key:0,color:"green","text-color":"white",icon:"task_alt",label:u.$t("dashboard.main.product.data.statusActive")},null,8,["label"])):G("",!0),i.row.status==0?(w(),I(H,{key:1,color:"red","text-color":"white",icon:"warning",label:u.$t("dashboard.main.product.data.statusInactive")},null,8,["label"])):G("",!0)]),a("div",zt,[l(v,{color:"warning",field:"edit",icon:"edit",class:"q-mx-xs",onClick:z=>i.row.editItemDialog=!0,dense:"",round:""},{default:r(()=>[l(ee,{modelValue:i.row.editItemDialog,"onUpdate:modelValue":z=>i.row.editItemDialog=z,"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:r(()=>[l(ne,{onEdited:z=>E(i.row),item:i.row},null,8,["onEdited","item"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),l(v,{color:"red",field:"delete",icon:"delete",class:"q-mx-xs",onClick:z=>U(i.row),dense:"",round:""},null,8,["onClick"])])]}),_:2},1024)]),_:2},1032,["class"])],4)]),_:1},8,["pagination","class","rows","hide-header","grid","filter","title"])]),_:1})}}};export{bl as default};
