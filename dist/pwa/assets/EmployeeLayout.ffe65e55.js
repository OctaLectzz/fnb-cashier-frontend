import{_ as E,Q as V,a as A,b as B}from"./NavbarComponent.be99c4f4.js";import{Q as m,a as s}from"./QItem.af557ec6.js";import{r as n,o as _,N as I,A as L,x as r,B as b,C as a,j as e,aF as k,y as u,aa as i,aG as c,at as M,ab as w,a5 as S,a9 as p,av as v,K as N,D as G}from"./index.c5c224d7.js";import{Q as j}from"./QSpace.a03e9777.js";import{Q as F,a as H}from"./QLayout.d5893572.js";import{l as K}from"./index.312ab613.js";import{url as P}from"./axios.77a133fc.js";import{u as U}from"./employee-store.e4242d04.js";import{u as O}from"./setting-store.9a95c5df.js";import"./QResizeObserver.9d7cda94.js";import"./TouchPan.b26a9b02.js";import"./touch.9135741d.js";import"./selection.eb4ba370.js";import"./format.959830d0.js";import"./QItemLabel.ccd450ac.js";import"./QBtnDropdown.fc0bc092.js";import"./QMenu.00791af1.js";import"./QSkeleton.66cf47f9.js";import"./QAvatar.1895e3e4.js";import"./ClosePopup.92e28685.js";import"./use-quasar.b8bd78f1.js";import"./i18n.f3501ae5.js";import"./vue-i18n.runtime.b7fd988f.js";import"./auth-store.1432633d.js";const T={key:0,class:"text-h4 text-center text-bold text-uppercase q-py-lg",style:{"letter-spacing":"5px"}},W=["src"],J={class:"menu-text-header q-mx-md q-mb-sm",style:{"font-size":"11px"}},R={key:0},X={class:"menu-text-header q-mx-md q-mb-sm",style:{"font-size":"11px"}},Y={key:0},qe={__name:"EmployeeLayout",setup(Z){const x=n({}),f=n(!1),$=async()=>{f.value=!0;try{const o=await U().profile();x.value=o.data.data}catch(o){console.error("Error fetching data:",o),K.error(t("auth.expiredMsg")),localStorage.removeItem("token"),localStorage.removeItem("employeetoken"),localStorage.removeItem("branch"),window.location.reload()}f.value=!1};_(()=>{$()});const h=n({}),z=async()=>{try{const o=await O().show(1);h.value=o.data.data}catch(o){console.error("Error fetching data:",o)}};_(()=>{z()});const d=n(!1),l=n(!1),q=n(!1),g=()=>{q.value=window.innerWidth>1023},C=()=>{q.value?l.value=!l.value:d.value=!d.value};return _(()=>{g(),window.addEventListener("resize",g)}),I(()=>{window.removeEventListener("resize",g)}),(o,Q)=>{const D=L("router-view");return r(),b(F,{view:"lHh Lpr lFf"},{default:a(()=>[e(V,{class:k([o.$q.dark.isActive?"bg-dark text-white":"","text-dark q-py-sm"]),style:{"background-color":"#ececf1"},elevated:""},{default:a(()=>[e(E,{profile:x.value,loading:f.value,onSidebar:C},null,8,["profile","loading"])]),_:1},8,["class"]),e(B,{modelValue:d.value,"onUpdate:modelValue":Q[0]||(Q[0]=y=>d.value=y),mini:l.value,width:250,class:k([o.$q.dark.isActive?"bg-dark":"bg-grey-10","text-white"]),bordered:"","show-if-above":""},{default:a(()=>[e(j,null,{default:a(()=>[e(m,{class:"row justify-center"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[l.value?c("",!0):(r(),u("div",T,i(h.value.title),1)),l.value?(r(),u("img",{key:1,src:M(P)+"/settings/"+h.value.logo,width:"50",class:"q-pa-xs"},null,8,W)):c("",!0)]),_:1})]),_:1}),e(w,{dark:""}),e(A,{style:{height:"86vh"}},{default:a(()=>[e(w,{class:"q-mb-md"}),S("div",J,[l.value?c("",!0):(r(),u("span",R,i(o.$t("dashboard.employee.sidebar.mainGroup")),1))]),e(m,{to:{name:"employee.home"},"active-class":"q-item-no-link-highlighting menu-active",class:"menu-click menu-text"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(p,{name:"home",size:"20px"})]),_:1}),e(s,null,{default:a(()=>[v(i(o.$t("dashboard.employee.sidebar.homeMenu")),1)]),_:1})]),_:1}),e(m,{to:{name:"employee.role"},"active-class":"q-item-no-link-highlighting menu-active",class:"menu-click menu-text"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(p,{name:"switch_access_shortcut",size:"20px"})]),_:1}),e(s,null,{default:a(()=>[v(i(o.$t("dashboard.employee.sidebar.roleMenu")),1)]),_:1})]),_:1}),e(m,{to:{name:"employee.schedule"},"active-class":"q-item-no-link-highlighting menu-active",class:"menu-click menu-text"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(p,{name:"schedule",size:"20px"})]),_:1}),e(s,null,{default:a(()=>[v(i(o.$t("dashboard.employee.sidebar.scheduleMenu")),1)]),_:1})]),_:1}),e(m,{to:{name:"employee.employee"},"active-class":"q-item-no-link-highlighting menu-active",class:"menu-click menu-text"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(p,{name:"badge",size:"20px"})]),_:1}),e(s,null,{default:a(()=>[v(i(o.$t("dashboard.employee.sidebar.employeeMenu")),1)]),_:1})]),_:1}),e(w,{class:"q-mb-md q-mt-sm"}),S("div",X,[l.value?c("",!0):(r(),u("span",Y,i(o.$t("dashboard.employee.sidebar.managementGroup")),1))])]),_:1})]),_:1})]),_:1},8,["modelValue","mini","class"]),e(H,{class:k(o.$q.dark.isActive?"bg-grey-10":"bg-grey-3"),style:{"min-height":"100vh"}},{default:a(()=>[e(D,null,{default:a(({Component:y})=>[(r(),b(N,null,[(r(),b(G(y)))],1024))]),_:1})]),_:1},8,["class"])]),_:1})}}};export{qe as default};
