import{r,o as x,x as b,B as $,C as u,j as a,a5 as t,at as q,au as k,aa as s,av as l,ax as g,a4 as w,a7 as T}from"./index.4b455d6d.js";import{Q}from"./QSpinnerHourglass.4b5f451e.js";import{Q as V}from"./QForm.9927cc01.js";import{Q as S}from"./QPage.588b5698.js";import{l as v}from"./index.820023a3.js";import{url as B}from"./axios.7d27b938.js";import{u as E}from"./auth-store.e16424b4.js";import{u as M}from"./setting-store.0b7772ac.js";import{u as C}from"./vue-i18n.runtime.f1e77c75.js";const F={class:"row justify-center q-my-sm"},j=["src"],z={class:"text-h5 text-bold text-center"},I={class:"text-body1 text-center q-mb-lg"},L={class:"row justify-center"},N={class:"col-sm-8 col-xs-11"},D={for:"nip"},P={class:"text-red"},R={class:"col-sm-8 col-xs-11"},U={for:"pin"},A={class:"text-red"},H={class:"col-sm-8 col-xs-11 q-mt-sm"},W={class:"q-mt-lg text-center text-grey-7",style:{"font-size":"11px"}},G={href:"#",target:"_blank",rel:"noopener noreferrer",class:"text-link text-primary"},J={href:"#",target:"_blank",rel:"noopener noreferrer",class:"text-link text-primary"},K={href:"#",target:"_blank",rel:"noopener noreferrer",class:"text-link text-primary"},re={__name:"EmployeeLoginPage",setup(O){const{t:n}=C(),y=r(!0),d=r({}),_=async()=>{try{const e=await M().show(1);d.value=e.data.data,y.value=!1}catch(e){console.error("Error fetching data:",e)}};x(()=>{_()});const c=r(""),m=r(""),f={nip:[e=>!!e||n("auth.validate.nipRequired")],pin:[e=>!!e||n("auth.validate.pinRequired")]},i=r(!1),h=async()=>{i.value=!0;try{await E().employee(c.value,m.value),v.success(n("auth.successEmployeeLoginMsg")),window.location.reload()}catch(e){console.error("Error submitting form:",e),v.error(n("auth.failedEmployeeLoginMsg"))}i.value=!1};return(e,o)=>(b(),$(S,{class:"flex flex-center"},{default:u(()=>[a(T,{class:"q-pa-md",style:{"border-radius":"30px"}},{default:u(()=>[t("div",F,[t("img",{src:q(B)+"/settings/"+d.value.logo,style:k("width:"+d.value.logo_size+"px")},null,12,j)]),t("div",z,s(e.$t("auth.employeeWelcomeMsg")),1),t("div",I,s(e.$t("auth.employeeDescriptionMsg")),1),a(V,{onSubmit:h},{default:u(()=>[t("div",L,[t("div",N,[t("label",D,[l(s(e.$t("auth.nipForm"))+" ",1),t("span",P,s(e.$t("public.requiredText")),1)]),a(g,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=p=>c.value=p),placeholder:"1234567890",rules:f.nip,mask:"####################",outlined:"",dense:"",required:"",autofocus:""},null,8,["modelValue","rules"])]),t("div",R,[t("label",U,[l(s(e.$t("auth.pinForm"))+" ",1),t("span",A,s(e.$t("public.requiredText")),1)]),a(g,{type:"password",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=p=>m.value=p),placeholder:"********",rules:f.pin,mask:"######",outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),t("div",H,[a(w,{type:"submit",color:"primary",label:e.$t("auth.signInText"),class:"full-width q-mt-sm",loading:i.value,disable:i.value,onClick:h},{loading:u(()=>[a(Q,{class:"on-left"}),l(" "+s(e.$t("public.loadingText")),1)]),_:1},8,["label","loading","disable"])])])]),_:1}),t("div",W,[t("div",null,s(e.$t("auth.permissionText1")),1),t("div",null,[t("a",G,s(e.$t("auth.termsText")),1),l(" "+s(e.$t("auth.permissionText2")),1)]),t("div",null,[t("a",J,s(e.$t("auth.privacyText")),1),o[2]||(o[2]=l(" . ")),t("a",K,s(e.$t("auth.noticeText")),1),o[3]||(o[3]=l(" . "))])])]),_:1})]),_:1}))}};export{re as default};
