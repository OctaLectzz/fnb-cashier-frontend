import{Q as c}from"./QSkeleton.f97d26c8.js";import{Q as h}from"./QAvatar.48e197fa.js";import{Q as _,a as l}from"./QItem.37ed3076.js";import{aE as j,bg as F,a$ as M,r as i,q as N,o as g,x,B as P,C as o,ae as t,aj as a,y as q,j as s,ag as n,av as u,ah as w,ai as Q,ax as S,ak as r}from"./index.199a5e3f.js";import{Q as R}from"./QSelect.0341fc00.js";import{Q as A}from"./QPage.2ef07c91.js";import{rupiah as p}from"./rupiah.ed064363.js";import{u as U}from"./setting-store.40679274.js";import{u as G}from"./profile-store.e8397c42.js";import{server as H,headers as J}from"./axios.afd0666a.js";import{u as K}from"./vue-i18n.runtime.bdb4f456.js";import"./QItemLabel.5bbf1fb7.js";import"./QMenu.7c4a117a.js";import"./selection.75008187.js";import"./format.2cae61da.js";const L=j("dashboard",{actions:{async main(){return await H.get("api/main",{headers:J})}}});const O={class:"q-pa-md q-my-sm"},W={class:"q-px-md"},X={class:"text-h5 text-bold"},Y={class:"text-body1"},Z={key:0,class:"row justify-between"},tt={class:"col-md-3 col-sm-12 col-xs-12 q-ma-sm"},st={class:"col-md-5 col-sm-12 col-xs-12 q-ma-sm"},et={class:"col-md-3 col-sm-12 col-xs-12 q-ma-sm"},at={key:1,class:"row justify-center"},ot={class:"col-md-3 col-sm-12 q-pa-sm"},dt={class:"text-h6 text-bold text-primary",style:{"line-height":"18px"}},lt={class:"text-h4 text-bold q-mt-xs"},it={class:"col-md-6 col-sm-12 q-pa-sm"},rt={class:"text-h6 text-bold text-primary",style:{"line-height":"18px"}},ct={class:"text-h4 text-bold q-mt-xs"},nt={class:"col-md-3 col-sm-12 q-pa-sm"},mt={class:"text-h6 text-bold text-primary",style:{"line-height":"18px"}},ht={class:"text-h4 text-bold q-mt-xs"},_t={class:"q-px-md"},xt={class:"text-h4 text-bold"},ut={class:"text-body1 q-my-xs"},pt={class:"row"},vt={class:"row items-center"},yt={class:"col-md-5 col-xs-10 q-pa-sm"},bt={class:"text-h6 text-bold text-primary",style:{"line-height":"18px"}},ft={class:"text-h4 text-bold q-mt-xs"},gt={class:"col-md-2 col-xs-10 q-pa-sm"},qt={class:"text-body1 text-bold text-primary",style:{"line-height":"18px"}},wt={class:"text-subtitle1 text-bold q-mt-xs"},Qt={class:"col-md-2 col-xs-10 q-pa-sm"},St={class:"text-body1 text-bold text-primary",style:{"line-height":"18px"}},Tt={class:"text-subtitle1 text-bold q-mt-xs"},$t={class:"col-md-2 col-xs-10 q-pa-sm"},It={class:"text-body1 text-bold text-primary",style:{"line-height":"18px"}},Ct={class:"text-subtitle1 text-bold q-mt-xs"},kt={class:"text-body1 q-my-xs"},Kt={__name:"IndexMain",setup(Dt){const T=F(),$=M(),{t:v}=K(),m=i(!0),d=i({}),I=async()=>{m.value=!0;try{const e=await L().main();d.value=e.data}catch(e){console.error("Error fetching data:",e),e.response.data.status==="failed"&&$.push("/notfound")}m.value=!1};N(()=>{T.name=="main.home"&&I()});const y=i({}),C=async()=>{try{const e=await U().show(1);y.value=e.data.data}catch(e){console.error("Error fetching data:",e)}};g(()=>{C()});const k=i({}),D=async()=>{try{const e=await G().profile();k.value=e.data.data}catch(e){console.error("Error fetching data:",e)}};g(()=>{D()});const E=localStorage.getItem("lang")||"en",V=i(new Intl.DateTimeFormat(E,{dateStyle:"full"}).format(new Date)),b=i("Day"),z=[{id:"day",desc:v("dashboard.main.home.dayFilter")},{id:"month",desc:v("dashboard.main.home.monthFilter")}];return(e,f)=>(x(),P(A,{class:"q-pa-md"},{default:o(()=>[t("div",O,[t("div",W,[t("div",X,a(e.$t("dashboard.main.home.dashboardText")),1),t("div",Y,a(e.$t("dashboard.main.home.welcomeText"))+" "+a(y.value.title),1)]),m.value?(x(),q("div",Z,[t("div",tt,[s(c,{height:"120px"})]),t("div",st,[s(c,{height:"120px"})]),t("div",et,[s(c,{height:"120px"})])])):(x(),q("div",at,[t("div",ot,[s(n,{class:"dashboard-card q-pa-sm",style:{"border-right":"5px solid #000"},flat:"",bordered:""},{default:o(()=>[s(_,null,{default:o(()=>[s(l,{avatar:""},{default:o(()=>[s(h,{"text-color":"white",icon:"restaurant_menu",size:"70px",class:"badge-color",rounded:""})]),_:1}),s(l,null,{default:o(()=>[t("div",dt,a(e.$t("dashboard.main.home.productCountText")),1),t("div",lt,a(d.value.total_products),1)]),_:1})]),_:1})]),_:1})]),t("div",it,[s(n,{class:"dashboard-card q-pa-sm",style:{"border-right":"5px solid #000"},flat:"",bordered:""},{default:o(()=>[s(_,null,{default:o(()=>[s(l,{avatar:""},{default:o(()=>[s(h,{"text-color":"white",icon:"point_of_sale",size:"70px",class:"badge-color",rounded:""})]),_:1}),s(l,null,{default:o(()=>[t("div",rt,a(e.$t("dashboard.main.home.todayTransactionText")),1),t("div",ct,a(u(p)(d.value.total_today)),1)]),_:1})]),_:1})]),_:1})]),t("div",nt,[s(n,{class:"dashboard-card q-pa-sm",style:{"border-right":"5px solid #000"},flat:"",bordered:""},{default:o(()=>[s(_,null,{default:o(()=>[s(l,{avatar:""},{default:o(()=>[s(h,{"text-color":"white",icon:"category",size:"70px",class:"badge-color",rounded:""})]),_:1}),s(l,null,{default:o(()=>[t("div",mt,a(e.$t("dashboard.main.home.categoryCountText")),1),t("div",ht,a(d.value.total_categories),1)]),_:1})]),_:1})]),_:1})])]))]),t("div",_t,[s(n,{class:"dashboard-card q-pa-sm q-my-sm"},{default:o(()=>[s(w,null,{default:o(()=>[t("div",xt,a(e.$t("dashboard.main.home.salesCard")),1),t("div",ut,[s(Q,{name:"today",size:"23px",class:"q-mr-sm"}),S(" "+a(V.value),1)]),s(r,{class:"q-my-lg"}),t("div",pt,[s(R,{modelValue:b.value,"onUpdate:modelValue":f[0]||(f[0]=B=>b.value=B),options:z,"option-value":"id","option-label":"desc",class:"col-md-4 col-sm-7 col-xs-12",outlined:"",dense:""},null,8,["modelValue"])]),s(r,{class:"q-my-lg"}),t("div",vt,[t("div",yt,[t("div",bt,a(e.$t("dashboard.main.home.totalSalesText")),1),t("div",ft,a(u(p)(d.value.total_today)),1)]),s(r,{vertical:""}),t("div",gt,[t("div",qt,a(e.$t("dashboard.main.home.receptionText")),1),t("div",wt,a(u(p)(d.value.total_today)),1)]),s(r,{vertical:""}),t("div",Qt,[t("div",St,a(e.$t("dashboard.main.home.productText")),1),t("div",Tt,a(d.value.products_sold),1)]),s(r,{vertical:""}),t("div",$t,[t("div",It,a(e.$t("dashboard.main.home.transactionText")),1),t("div",Ct,a(d.value.total_transactions),1)])]),s(r,{class:"q-my-lg"}),t("div",kt,[s(Q,{name:"analytics",size:"30px",class:"q-mr-sm"}),S(" "+a(e.$t("dashboard.main.home.salesChartText")),1)]),s(c,{height:"400px"})]),_:1}),s(w)]),_:1})])]),_:1}))}};export{Kt as default};
