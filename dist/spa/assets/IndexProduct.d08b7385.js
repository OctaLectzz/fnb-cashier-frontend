import{Q as oe}from"./QTooltip.bac9bef9.js";import{aE as be,r as h,o as G,c as F,au as ae,x as w,y as te,j as l,C as i,ag as R,ah as _,ae as a,aj as s,ay as P,ad as v,ak as D,aF as A,av as g,ax as r,az as p,bs as ne,a$ as ve,B as I,ai as de,br as Z,af as ge,F as $e,aG as J,aw as _e}from"./index.199a5e3f.js";import{a as fe,b as Q,Q as ye,c as xe}from"./QTable.f81b2d5a.js";import{Q as W}from"./QResponsive.500fc61e.js";import{Q as ue,a as K}from"./QSelect.0341fc00.js";import{Q as we}from"./QPage.2ef07c91.js";import{l as S}from"./index.1757aa92.js";import{u as qe}from"./use-quasar.cb6e291d.js";import{server as O,headers as ee,headersImage as ie,url as X}from"./axios.afd0666a.js";import{rupiah as q}from"./rupiah.ed064363.js";import{a as ce,C as Y}from"./ClosePopup.e69073b2.js";import{Q as me}from"./QSpinnerGears.7e50aff2.js";import{Q as pe}from"./QForm.fdbdeff7.js";import{u as he}from"./category-store.2a0162d0.js";import{u as le}from"./vue-i18n.runtime.bdb4f456.js";import"./QMenu.7c4a117a.js";import"./selection.75008187.js";import"./use-fullscreen.c925fc63.js";import"./use-ratio.8bb329cf.js";import"./QItem.37ed3076.js";import"./QItemLabel.5bbf1fb7.js";import"./format.2cae61da.js";const M=be("product",{actions:{async all(){return await O.get("api/product",{headers:ee})},async show(c){return await O.get(`api/product/${c}`,{headers:ee})},async create(c){return await O.post("api/product",c,{headers:ie})},async edit(c){return await O.post(`api/product/${c.id}`,c,{headers:ie})},async delete(c){return await O.delete(`api/product/${c}`,{headers:ee})}}}),Ve={class:"text-h6"},ke={class:"row justify-center"},Ce={class:"col-lg-2 col-md-3 q-pa-md"},Te={class:"text-body1 text-bold"},Ue={class:"flex flex-center"},Ie=["src"],Qe={class:"text-subtitle2 text-grey-7"},De={class:"text-red"},Pe={class:"col-lg-9 col-md-8 q-pa-md"},Ee={class:"text-body1 text-bold"},Le={class:"row justify-center"},Re={class:"col-12 q-pa-sm"},Ae={class:"text-bold"},Be={class:"text-red"},Fe={class:"col-md-6 col-xs-12 q-pa-sm"},Se={class:"text-bold"},Me={class:"text-red"},je={class:"col-md-6 col-xs-12 q-pa-sm"},ze={class:"text-bold"},Ne={class:"text-red"},Oe={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Ge={class:"text-bold"},He={class:"text-grey"},Je={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Ke={class:"text-bold"},We={class:"text-grey"},Xe={class:"col-md-4 col-xs-12 q-pa-sm"},Ye={class:"text-bold"},Ze={class:"text-red"},ea={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},aa={class:"text-bold"},ta={class:"text-grey"},la={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},sa={class:"text-bold"},oa={class:"text-grey"},da={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ia={class:"text-bold"},ra={class:"text-grey"},na={class:"col-md-4 col-xs-12 q-pa-sm"},ua={class:"text-bold"},ca={class:"text-red"},ma={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},pa={class:"text-bold"},ha={class:"text-grey"},ba={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},va={class:"text-bold"},ga={class:"text-red"},$a={__name:"CreateProduct",emits:["created"],setup(c,{emit:C}){const{t:u}=le(),j=C,o=h({image:"product-default.jpg",sku:"",name:"",category_id:null,category:"",min_purchase:null,selling_price:"",purchase_price:"",unit:"",weight:"",length:"",width:"",height:"",status:1}),f=h([]),T=async()=>{try{const e=await M().all();f.value=e.data.data}catch(e){console.error("Error fetching data:",e)}};G(()=>{T()});const x=h([]),V=h([]),B=async()=>{try{const e=await he().all();x.value=e.data.data.map(t=>({id:t.id,label:t.name,value:t.name})),V.value=[...x.value]}catch(e){console.error("Error fetching data:",e)}},z=(e,t,b)=>{t(()=>{const d=e.toLowerCase();V.value=x.value.filter(k=>k.value.toLowerCase().indexOf(d)>-1)})};G(()=>{B()});const E=h(null),L=async e=>{e.preventDefault();const t=e.target.files[0];if(o.value.image=e.target.files[0],t){const b=new FileReader;b.onload=()=>{E.value.src=b.result},b.readAsDataURL(t)}},$=h({name:[e=>!!e||u("dashboard.main.product.validate.nameRequired"),e=>e.length<=255||u("dashboard.main.product.validate.nameMaxLength")],category:[e=>!!e||u("dashboard.main.product.validate.categoryRequired")],sku:[e=>!!e||u("dashboard.main.product.validate.skuRequired"),e=>e.length<=10||u("dashboard.main.product.validate.skuMaxLength"),e=>typeof e=="string"&&f.value?!f.value.some(t=>t.sku.toLowerCase()===e.toLowerCase())||u("dashboard.main.product.validate.skuAlready"):!0],purchase_price:[e=>!!e||u("dashboard.main.product.validate.purchasePriceRequired")],unit:[e=>!!e||u("dashboard.main.product.validate.unitRequired"),e=>e.length<=10||u("dashboard.main.product.validate.unitMaxLength")]}),y=h(!1),N=F(()=>y.value||!o.value.name||!o.value.sku||!o.value.category||!o.value.purchase_price),n=async()=>{y.value=!0;try{o.value.category&&(o.value.category_id=x.value.find(e=>e.label===o.value.category).id),await M().create(o.value),S.success(u("dashboard.main.product.successCreateMsg")),j("created")}catch(e){console.error("Error submitting form:",e),S.error(e.response.data.message||u("dashboard.main.product.failedCreateMsg"))}y.value=!1},m=h({selling_price:F({get(){return q(o.value.selling_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.selling_price=parseInt(t,10)||0}}),purchase_price:F({get(){return q(o.value.purchase_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.purchase_price=parseInt(t,10)||0}})}),U=e=>{m.value[e]=q(o.value[e])};return(e,t)=>{const b=ae("uppercase");return w(),te("div",null,[l(pe,{onSubmit:n},{default:i(()=>[l(R,{style:{"min-width":"400px"}},{default:i(()=>[l(_,{class:"row items-center q-py-sm"},{default:i(()=>[a("div",Ve,s(e.$t("dashboard.main.product.createText")),1),l(ce),P(l(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[Y]])]),_:1}),l(D),l(_,{class:"scroll",style:{height:"77vh"}},{default:i(()=>[a("div",ke,[a("div",Ce,[l(R,{class:"q-pb-xl"},{default:i(()=>[l(_,{class:A(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:i(()=>[a("div",Te,s(e.$t("dashboard.main.product.data.image")),1)]),_:1},8,["class"]),l(D),l(_,{class:"text-center q-pa-md"},{default:i(()=>[a("div",Ue,[l(W,{ratio:1/1,class:"col q-my-xs",style:{width:"220px"}},{default:i(()=>[a("img",{ref_key:"image",ref:E,src:g(X)+"/products/"+o.value.image},null,8,Ie)]),_:1})]),a("div",Qe,[r(s(e.$t("public.imageType"))+" ",1),a("span",De,s(e.$t("public.requiredText")),1)]),l(v,{color:"primary",class:"q-my-md",label:e.$t("public.uploadBtn"),onClick:t[0]||(t[0]=d=>e.$refs.imageInput.click()),"no-caps":""},null,8,["label"]),a("input",{type:"file",ref:"imageInput",style:{display:"none"},accept:"image/*",onChange:L},null,544)]),_:1})]),_:1})]),a("div",Pe,[l(R,{class:"q-pb-xl",style:{height:"100%"}},{default:i(()=>[l(_,{class:A(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:i(()=>[a("div",Ee,s(e.$t("dashboard.main.product.detailCard")),1)]),_:1},8,["class"]),l(D),l(_,{class:"q-pa-md"},{default:i(()=>[a("div",Le,[a("div",Re,[a("div",Ae,[r(s(e.$t("dashboard.main.product.data.name"))+" ",1),a("span",Be,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value.name=d),placeholder:e.$t("public.exampleText")+"Chocolate Cake",rules:$.value.name,outlined:"",dense:"",required:"",autofocus:""},null,8,["modelValue","placeholder","rules"])]),a("div",Fe,[a("div",Se,[r(s(e.$t("dashboard.main.product.data.category"))+" ",1),a("span",Me,s(e.$t("public.requiredText")),1)]),l(ue,{modelValue:o.value.category,"onUpdate:modelValue":t[2]||(t[2]=d=>o.value.category=d),options:V.value,onFilter:z,"input-debounce":"0","use-input":"","fill-input":"","emit-value":"","hide-selected":"",outlined:"",dense:"",required:""},null,8,["modelValue","options"])]),a("div",je,[a("div",ze,[r(s(e.$t("dashboard.main.product.data.sku"))+" ",1),a("span",Ne,s(e.$t("public.requiredText")),1)]),P(l(p,{modelValue:o.value.sku,"onUpdate:modelValue":t[3]||(t[3]=d=>o.value.sku=d),placeholder:e.$t("public.exampleText")+"CS0001",rules:$.value.sku,outlined:"",dense:"",required:""},null,8,["modelValue","placeholder","rules"]),[[b]])]),a("div",Oe,[a("div",Ge,[r(s(e.$t("dashboard.main.product.data.minPurchase"))+" ",1),a("span",He,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.min_purchase,"onUpdate:modelValue":t[4]||(t[4]=d=>o.value.min_purchase=d),type:"number",placeholder:"Default : 1",mask:"####",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Je,[a("div",Ke,[r(s(e.$t("dashboard.main.product.data.sellingPrice"))+" ",1),a("span",We,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:m.value.selling_price,"onUpdate:modelValue":t[5]||(t[5]=d=>m.value.selling_price=d),onInput:t[6]||(t[6]=d=>U("selling_price")),outlined:"",dense:""},null,8,["modelValue"])]),a("div",Xe,[a("div",Ye,[r(s(e.$t("dashboard.main.product.data.purchasePrice"))+" ",1),a("span",Ze,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:m.value.purchase_price,"onUpdate:modelValue":t[7]||(t[7]=d=>m.value.purchase_price=d),rules:$.value.purchase_price,onInput:t[8]||(t[8]=d=>U("purchase_price")),outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",ea,[a("div",aa,[r(s(e.$t("dashboard.main.product.data.length"))+"(cm) ",1),a("span",ta,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.length,"onUpdate:modelValue":t[9]||(t[9]=d=>o.value.length=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",la,[a("div",sa,[r(s(e.$t("dashboard.main.product.data.width"))+"(cm) ",1),a("span",oa,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.width,"onUpdate:modelValue":t[10]||(t[10]=d=>o.value.width=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",da,[a("div",ia,[r(s(e.$t("dashboard.main.product.data.height"))+"(cm) ",1),a("span",ra,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.height,"onUpdate:modelValue":t[11]||(t[11]=d=>o.value.height=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",na,[a("div",ua,[r(s(e.$t("dashboard.main.product.data.unit"))+" ",1),a("span",ca,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.unit,"onUpdate:modelValue":t[12]||(t[12]=d=>o.value.unit=d),rules:$.value.unit,placeholder:"Porsi",outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",ma,[a("div",pa,[r(s(e.$t("dashboard.main.product.data.weight"))+"(gram) ",1),a("span",ha,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.weight,"onUpdate:modelValue":t[13]||(t[13]=d=>o.value.weight=d),type:"number",placeholder:"20 gram",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ba,[a("div",va,[r(s(e.$t("dashboard.main.product.data.status"))+" ",1),a("span",ga,s(e.$t("public.requiredText")),1)]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[14]||(t[14]=d=>o.value.status=d),color:"green",label:e.$t("dashboard.main.product.data.statusActive"),outline:o.value.status==0,class:"q-mx-xs",onClick:t[15]||(t[15]=d=>o.value.status=1)},null,8,["modelValue","label","outline"]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[16]||(t[16]=d=>o.value.status=d),color:"red",label:e.$t("dashboard.main.product.data.statusInactive"),outline:o.value.status==1,class:"q-mx-xs",onClick:t[17]||(t[17]=d=>o.value.status=0)},null,8,["modelValue","label","outline"])])])]),_:1})]),_:1})])])]),_:1}),l(D),l(ne,{align:"right",class:"text-primary"},{default:i(()=>[P(l(v,{color:"primary",label:g(u)("public.cancelText"),flat:""},null,8,["label"]),[[Y]]),l(v,{type:"submit",color:"primary",label:g(u)("public.createText"),loading:y.value,disable:N.value},{loading:i(()=>[l(me)]),_:1},8,["label","loading","disable"])]),_:1})]),_:1})]),_:1})])}}},_a={class:"text-h6"},fa={class:"row justify-center"},ya={class:"col-lg-2 col-md-3 q-pa-md"},xa={class:"text-body1 text-bold"},wa={class:"flex flex-center"},qa=["src"],Va={class:"text-subtitle2 text-grey-7"},ka={class:"text-red"},Ca={class:"col-lg-9 col-md-8 q-pa-md"},Ta={class:"text-body1 text-bold"},Ua={class:"row justify-center"},Ia={class:"col-12 q-pa-sm"},Qa={class:"text-bold"},Da={class:"text-red"},Pa={class:"col-md-6 col-xs-12 q-pa-sm"},Ea={class:"text-bold"},La={class:"text-red"},Ra={class:"col-md-6 col-xs-12 q-pa-sm"},Aa={class:"text-bold"},Ba={class:"text-red"},Fa={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Sa={class:"text-bold"},Ma={class:"text-grey"},ja={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},za={class:"text-bold"},Na={class:"text-grey"},Oa={class:"col-md-4 col-xs-12 q-pa-sm"},Ga={class:"text-bold"},Ha={class:"text-red"},Ja={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Ka={class:"text-bold"},Wa={class:"text-grey"},Xa={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},Ya={class:"text-bold"},Za={class:"text-grey"},et={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},at={class:"text-bold"},tt={class:"text-grey"},lt={class:"col-md-4 col-xs-12 q-pa-sm"},st={class:"text-bold"},ot={class:"text-red"},dt={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},it={class:"text-bold"},rt={class:"text-grey"},nt={class:"col-md-4 col-xs-12 q-pa-sm q-pb-lg"},ut={class:"text-bold"},ct={class:"text-red"},re={__name:"EditProduct",props:["item"],emits:["edited"],setup(c,{emit:C}){const{t:u}=le(),j=C,o=h({id:c.item.id,image:c.item.image,sku:c.item.sku,name:c.item.name,category_id:c.item.category_id,category:c.item.category,min_purchase:c.item.min_purchase,selling_price:c.item.selling_price,purchase_price:c.item.purchase_price,unit:c.item.unit,weight:c.item.weight,length:c.item.length,width:c.item.width,height:c.item.height,status:c.item.status}),f=h([]),T=async()=>{try{const e=await M().all();f.value=e.data.data}catch(e){console.error("Error fetching data:",e)}};G(()=>{T()});const x=h([]),V=h([]),B=async()=>{try{const e=await he().all();x.value=e.data.data.map(t=>({id:t.id,label:t.name,value:t.name})),V.value=[...x.value]}catch(e){console.error("Error fetching data:",e)}},z=(e,t,b)=>{t(()=>{const d=e.toLowerCase();V.value=x.value.filter(k=>k.value.toLowerCase().indexOf(d)>-1)})};G(()=>{B()});const E=h(null),L=async e=>{e.preventDefault();const t=e.target.files[0];if(o.value.image=e.target.files[0],t){const b=new FileReader;b.onload=()=>{E.value.src=b.result},b.readAsDataURL(t)}},$=h({name:[e=>!!e||u("dashboard.main.product.validate.nameRequired"),e=>e.length<=255||u("dashboard.main.product.validate.nameMaxLength")],category:[e=>!!e||u("dashboard.main.product.validate.categoryRequired")],sku:[e=>!!e||u("dashboard.main.product.validate.skuRequired"),e=>e.length<=10||u("dashboard.main.product.validate.skuMaxLength"),e=>typeof e=="string"&&f.value?!f.value.some(t=>t.sku.toLowerCase()===e.toLowerCase()&&t.sku.toLowerCase()!==c.item.sku.toLowerCase())||u("dashboard.main.product.validate.skuAlready"):!0],purchase_price:[e=>!!e||u("dashboard.main.product.validate.purchasePriceRequired")],unit:[e=>!!e||u("dashboard.main.product.validate.unitRequired"),e=>e.length<=10||u("dashboard.main.product.validate.unitMaxLength")]}),y=h(!1),N=F(()=>y.value||!o.value.name||!o.value.sku||!o.value.category||!o.value.purchase_price),n=async()=>{y.value=!0;try{o.value.category&&(o.value.category_id=x.value.find(e=>e.label===o.value.category).id),await M().edit(o.value),S.success(u("dashboard.main.product.successEditMsg")),j("edited")}catch(e){console.error("Error submitting form:",e),S.error(e.response.data.message||u("dashboard.main.product.failedEditMsg"))}y.value=!1},m=h({selling_price:F({get(){return q(o.value.selling_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.selling_price=parseInt(t,10)||0}}),purchase_price:F({get(){return q(o.value.purchase_price)},set(e){const t=e.replace(/[^\d]/g,"");o.value.purchase_price=parseInt(t,10)||0}})}),U=e=>{m.value[e]=q(o.value[e])};return(e,t)=>{const b=ae("uppercase");return w(),te("div",null,[l(pe,{onSubmit:n},{default:i(()=>[l(R,{style:{"min-width":"400px"}},{default:i(()=>[l(_,{class:"row items-center q-py-sm"},{default:i(()=>[a("div",_a,s(e.$t("dashboard.main.product.editText")),1),l(ce),P(l(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[Y]])]),_:1}),l(D),l(_,{class:"scroll",style:{height:"77vh"}},{default:i(()=>[a("div",fa,[a("div",ya,[l(R,{class:"q-pb-xl"},{default:i(()=>[l(_,{class:A(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:i(()=>[a("div",xa,s(e.$t("dashboard.main.product.data.image")),1)]),_:1},8,["class"]),l(D),l(_,{class:"text-center q-pa-md"},{default:i(()=>[a("div",wa,[l(W,{ratio:1/1,class:"col q-my-xs",style:{width:"220px"}},{default:i(()=>[a("img",{ref_key:"image",ref:E,src:g(X)+"/products/"+o.value.image},null,8,qa)]),_:1})]),a("div",Va,[r(s(e.$t("public.imageType"))+" ",1),a("span",ka,s(e.$t("public.requiredText")),1)]),l(v,{color:"primary",class:"q-my-md",label:e.$t("public.uploadBtn"),onClick:t[0]||(t[0]=d=>e.$refs.imageInput.click()),"no-caps":""},null,8,["label"]),a("input",{type:"file",ref:"imageInput",style:{display:"none"},accept:"image/*",onChange:L},null,544)]),_:1})]),_:1})]),a("div",Ca,[l(R,{class:"q-pb-xl",style:{height:"100%"}},{default:i(()=>[l(_,{class:A(e.$q.dark.isActive?"bg-blue-grey-10":"bg-blue-grey-1")},{default:i(()=>[a("div",Ta,s(e.$t("dashboard.main.product.detailCard")),1)]),_:1},8,["class"]),l(D),l(_,{class:"q-pa-md"},{default:i(()=>[a("div",Ua,[a("div",Ia,[a("div",Qa,[r(s(e.$t("dashboard.main.product.data.name"))+" ",1),a("span",Da,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=d=>o.value.name=d),placeholder:e.$t("public.exampleText")+"Chocolate Cake",rules:$.value.name,outlined:"",dense:"",required:"",autofocus:""},null,8,["modelValue","placeholder","rules"])]),a("div",Pa,[a("div",Ea,[r(s(e.$t("dashboard.main.product.data.category"))+" ",1),a("span",La,s(e.$t("public.requiredText")),1)]),l(ue,{modelValue:o.value.category,"onUpdate:modelValue":t[2]||(t[2]=d=>o.value.category=d),options:V.value,onFilter:z,"input-debounce":"0","use-input":"","fill-input":"","emit-value":"","hide-selected":"",outlined:"",dense:"",required:""},null,8,["modelValue","options"])]),a("div",Ra,[a("div",Aa,[r(s(e.$t("dashboard.main.product.data.sku"))+" ",1),a("span",Ba,s(e.$t("public.requiredText")),1)]),P(l(p,{modelValue:o.value.sku,"onUpdate:modelValue":t[3]||(t[3]=d=>o.value.sku=d),placeholder:e.$t("public.exampleText")+"CS0001",rules:$.value.sku,outlined:"",dense:"",required:""},null,8,["modelValue","placeholder","rules"]),[[b]])]),a("div",Fa,[a("div",Sa,[r(s(e.$t("dashboard.main.product.data.minPurchase"))+" ",1),a("span",Ma,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.min_purchase,"onUpdate:modelValue":t[4]||(t[4]=d=>o.value.min_purchase=d),type:"number",placeholder:"Default : 1",mask:"####",outlined:"",dense:""},null,8,["modelValue"])]),a("div",ja,[a("div",za,[r(s(e.$t("dashboard.main.product.data.sellingPrice"))+" ",1),a("span",Na,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:m.value.selling_price,"onUpdate:modelValue":t[5]||(t[5]=d=>m.value.selling_price=d),onInput:t[6]||(t[6]=d=>U("selling_price")),outlined:"",dense:""},null,8,["modelValue"])]),a("div",Oa,[a("div",Ga,[r(s(e.$t("dashboard.main.product.data.purchasePrice"))+" ",1),a("span",Ha,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:m.value.purchase_price,"onUpdate:modelValue":t[7]||(t[7]=d=>m.value.purchase_price=d),rules:$.value.purchase_price,onInput:t[8]||(t[8]=d=>U("purchase_price")),outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",Ja,[a("div",Ka,[r(s(e.$t("dashboard.main.product.data.length"))+"(cm) ",1),a("span",Wa,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.length,"onUpdate:modelValue":t[9]||(t[9]=d=>o.value.length=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",Xa,[a("div",Ya,[r(s(e.$t("dashboard.main.product.data.width"))+"(cm) ",1),a("span",Za,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.width,"onUpdate:modelValue":t[10]||(t[10]=d=>o.value.width=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",et,[a("div",at,[r(s(e.$t("dashboard.main.product.data.height"))+"(cm) ",1),a("span",tt,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.height,"onUpdate:modelValue":t[11]||(t[11]=d=>o.value.height=d),type:"number",placeholder:"20 cm",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",lt,[a("div",st,[r(s(e.$t("dashboard.main.product.data.unit"))+" ",1),a("span",ot,s(e.$t("public.requiredText")),1)]),l(p,{modelValue:o.value.unit,"onUpdate:modelValue":t[12]||(t[12]=d=>o.value.unit=d),rules:$.value.unit,placeholder:"Porsi",outlined:"",dense:"",required:""},null,8,["modelValue","rules"])]),a("div",dt,[a("div",it,[r(s(e.$t("dashboard.main.product.data.weight"))+"(gram) ",1),a("span",rt,s(e.$t("public.optionalText")),1)]),l(p,{modelValue:o.value.weight,"onUpdate:modelValue":t[13]||(t[13]=d=>o.value.weight=d),type:"number",placeholder:"20 gram",mask:"###",outlined:"",dense:""},null,8,["modelValue"])]),a("div",nt,[a("div",ut,[r(s(e.$t("dashboard.main.product.data.status"))+" ",1),a("span",ct,s(e.$t("public.requiredText")),1)]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[14]||(t[14]=d=>o.value.status=d),color:"green",label:e.$t("dashboard.main.product.data.statusActive"),outline:o.value.status==0,class:"q-mx-xs",onClick:t[15]||(t[15]=d=>o.value.status=1)},null,8,["modelValue","label","outline"]),l(v,{modelValue:o.value.status,"onUpdate:modelValue":t[16]||(t[16]=d=>o.value.status=d),color:"red",label:e.$t("dashboard.main.product.data.statusInactive"),outline:o.value.status==1,class:"q-mx-xs",onClick:t[17]||(t[17]=d=>o.value.status=0)},null,8,["modelValue","label","outline"])])])]),_:1})]),_:1})])])]),_:1}),l(D),l(ne,{align:"right",class:"text-primary"},{default:i(()=>[P(l(v,{color:"primary",label:g(u)("public.cancelText"),flat:""},null,8,["label"]),[[Y]]),l(v,{type:"submit",color:"primary",label:g(u)("public.editText"),loading:y.value,disable:N.value},{loading:i(()=>[l(me)]),_:1},8,["label","loading","disable"])]),_:1})]),_:1})]),_:1})])}}},mt={class:"text-body2 text-bold text-center q-pa-md"},pt={class:"bg-blue-2 rounded-borders"},ht={class:"text-blue-8 text-bold q-pa-xs"},bt=["src"],vt={class:"text-h6 text-bold"},gt={class:"text-subtitle2"},$t={class:"text-body1 q-ma-sm"},_t={class:"text-bold"},ft={class:"text-body1 q-ma-sm"},yt={class:"text-bold"},xt={class:"text-body1 q-ma-sm"},wt={class:"text-bold"},qt={class:"text-body1 q-ma-sm"},Vt={class:"text-bold"},kt={class:"text-body1 q-ma-sm"},Ct={class:"text-bold"},Tt={class:"text-body1 q-ma-sm"},Ut={class:"text-bold"},It=["src"],Qt={class:"text-h6 text-bold text-center"},Dt={class:"text-subtitle2 text-center"},Pt={class:"text-body1 q-ma-sm"},Et={class:"text-bold"},Lt={class:"text-body1 q-ma-sm"},Rt={class:"text-bold"},At={class:"text-body1 q-ma-sm"},Bt={class:"text-bold"},Ft={class:"text-body1 q-ma-sm"},St={class:"text-bold"},Mt={class:"text-body1 q-ma-sm"},jt={class:"text-bold"},zt={class:"text-body1 q-ma-sm"},Nt={class:"text-bold"},Ot={class:"absolute absolute-bottom-right"},Gt={class:"absolute absolute-bottom-left"},bl={__name:"IndexProduct",setup(c){const C=qe(),{t:u}=le(),j=ve(),o=h([]),f=async()=>{try{const n=await M().all();o.value=n.data.data}catch(n){console.error("Error fetching data:",n),n.response.data.status==="failed"&&j.push("/notfound")}};G(()=>{f()});const T=h(!1),x=()=>{T.value=!1,f()},V=n=>{n.editItemDialog=!1,f()},B=n=>{C.dialog({title:u("dashboard.warningTitle"),message:u("dashboard.warningText"),cancel:!0,persistent:!0}).onOk(async()=>{try{await M().delete(n.id),S.success(u("dashboard.main.product.successDeleteMsg")),f()}catch(m){console.error("Error submitting form:",m),S.error(m.response.data.message||u("dashboard.main.product.failedDeleteMsg"))}})},z=o,E=[{name:"id",field:"id",label:"No",align:"center"},{name:"sku",field:"sku",label:u("dashboard.main.product.data.sku"),align:"center",sortable:!0},{name:"image",field:"image",label:u("dashboard.main.product.data.image"),align:"center"},{name:"name",field:"name",label:u("dashboard.main.product.data.name"),align:"left",sortable:!0},{name:"price",field:"price",label:u("dashboard.main.product.data.price"),align:"left"},{name:"volume",field:"volume",label:u("dashboard.main.product.data.volume"),align:"left"},{name:"status",field:"status",label:u("dashboard.main.product.data.status"),align:"center",sortable:!0},{name:"action",field:"action",label:u("dashboard.actionTable"),align:"center"}],L=h(""),$=h(!1),y=h({}),N=n=>{n.toggleFullscreen()};return(n,m)=>{const U=ae("viewer");return w(),I(we,{class:"q-pa-md"},{default:i(()=>[l(ye,{pagination:y.value,"onUpdate:pagination":m[4]||(m[4]=e=>y.value=e),"rows-per-page-options":[10,20,30],class:A([g(C).dark.isActive?"text-grey-4":"text-grey-9","dashboard-table"]),rows:g(z),columns:E,"hide-header":$.value,grid:$.value,filter:L.value,separator:"cell",title:n.$t("dashboard.main.product.titleText"),"row-key":"__index","virtual-scroll":"",flat:"",bordered:""},{"top-right":i(e=>[l(v,{color:"primary",icon:e.inFullscreen?"fullscreen_exit":"fullscreen",onClick:t=>N(e),flat:"",round:"",dense:""},{default:i(()=>[l(oe,null,{default:i(()=>[r(s(e.inFullscreen?n.$t("dashboard.fullscreenExitBtn"):n.$t("dashboard.fullscreenBtn")),1)]),_:2},1024)]),_:2},1032,["icon","onClick"]),l(v,{color:"primary",icon:$.value?"list":"grid_on",onClick:m[0]||(m[0]=t=>$.value=!$.value),class:"q-mr-sm",flat:"",round:"",dense:""},{default:i(()=>[l(oe,null,{default:i(()=>[r(s($.value?n.$t("dashboard.listBtn"):n.$t("dashboard.gridBtn")),1)]),_:1})]),_:1},8,["icon"]),l(p,{modelValue:L.value,"onUpdate:modelValue":m[1]||(m[1]=t=>L.value=t),placeholder:n.$t("public.searchText"),debounce:"300",outlined:"",dense:""},{append:i(()=>[l(de,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),"top-left":i(()=>[l(v,{color:"primary",label:n.$t("dashboard.main.product.createText"),class:"shadow-3 q-my-sm",onClick:m[2]||(m[2]=e=>T.value=!0),"no-caps":""},null,8,["label"]),l(Z,{modelValue:T.value,"onUpdate:modelValue":m[3]||(m[3]=e=>T.value=e),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:i(()=>[l($a,{onCreated:x})]),_:1},8,["modelValue"])]),header:i(e=>[l(fe,{props:e},{default:i(()=>[(w(!0),te($e,null,ge(e.cols,t=>(w(),I(xe,{key:t.name,props:e,class:A(g(C).dark.isActive?"bg-blue-grey-10":"bg-grey-2"),style:{"font-weight":"bolder","font-size":"13px"}},{default:i(()=>[r(s(t.label),1)]),_:2},1032,["props","class"]))),128))]),_:2},1032,["props"])]),"no-data":i(()=>[a("div",mt,[l(de,{name:"warning_amber",size:"25px",class:"q-mx-sm"}),r(" "+s(n.$t("dashboard.noDataText")),1)])]),"body-cell-id":i(e=>[l(Q,{props:e},{default:i(()=>[r(s(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-sku":i(e=>[l(Q,{props:e},{default:i(()=>[a("div",pt,[a("div",ht,s(e.row.sku),1)])]),_:2},1032,["props"])]),"body-cell-image":i(e=>[l(Q,{props:e},{default:i(()=>[P((w(),I(W,{ratio:1/1,style:{width:"120px"}},{default:i(()=>[a("img",{src:g(X)+"/products/"+e.row.image,class:"dashboard-image"},null,8,bt)]),_:2},1024)),[[U]])]),_:2},1032,["props"])]),"body-cell-name":i(e=>[l(Q,{props:e},{default:i(()=>[a("div",vt,s(e.row.name),1),a("div",gt,s(e.row.category),1)]),_:2},1032,["props"])]),"body-cell-price":i(e=>[l(Q,{props:e},{default:i(()=>{var t;return[a("div",$t,[a("span",_t,s(n.$t("dashboard.main.product.data.minPurchase"))+" :",1),r(" "+s(e.row.min_purchase),1)]),a("div",ft,[a("span",yt,s(n.$t("dashboard.main.product.data.sellingPrice"))+" :",1),r(" "+s((t=g(q)(e.row.selling_price))!=null?t:"-"),1)]),a("div",xt,[a("span",wt,s(n.$t("dashboard.main.product.data.purchasePrice"))+" :",1),r(" "+s(g(q)(e.row.purchase_price)),1)])]}),_:2},1032,["props"])]),"body-cell-volume":i(e=>[l(Q,{props:e},{default:i(()=>{var t,b,d,k;return[a("div",qt,[a("span",Vt,s(n.$t("dashboard.main.product.data.unit"))+" :",1),r(" "+s(e.row.unit),1)]),a("div",kt,[a("span",Ct,s(n.$t("dashboard.main.product.data.weight"))+" :",1),r(" "+s((t=e.row.weight)!=null?t:"-"),1)]),a("div",Tt,[a("span",Ut,s(n.$t("dashboard.main.product.data.volume"))+" "+s(n.$t("dashboard.main.product.data.volumeDetail"))+" :",1),r(" "+s((b=e.row.length)!=null?b:"-")+"cm x "+s((d=e.row.width)!=null?d:"-")+"cm x "+s((k=e.row.height)!=null?k:"-")+"cm ",1)])]}),_:2},1032,["props"])]),"body-cell-status":i(e=>[l(Q,{props:e},{default:i(()=>[e.row.status==1?(w(),I(K,{key:0,color:"green","text-color":"white",icon:"task_alt",label:n.$t("dashboard.main.product.data.statusActive")},null,8,["label"])):J("",!0),e.row.status==0?(w(),I(K,{key:1,color:"red","text-color":"white",icon:"warning",label:n.$t("dashboard.main.product.data.statusInactive")},null,8,["label"])):J("",!0)]),_:2},1032,["props"])]),"body-cell-action":i(e=>[l(Q,{props:e},{default:i(()=>[l(v,{color:"warning",field:"edit",icon:"edit",class:"q-mx-xs",onClick:t=>e.row.editItemDialog=!0,dense:"",round:""},{default:i(()=>[l(Z,{modelValue:e.row.editItemDialog,"onUpdate:modelValue":t=>e.row.editItemDialog=t,"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:i(()=>[l(re,{onEdited:t=>V(e.row),item:e.row},null,8,["onEdited","item"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),l(v,{color:"red",field:"delete",icon:"delete",class:"q-mx-xs",onClick:t=>B(e.row),dense:"",round:""},null,8,["onClick"])]),_:2},1032,["props"])]),item:i(e=>[a("div",{class:"dashboard-card q-pa-md col-xs-12 col-sm-4 col-md-4 col-lg-4 grid-style-transition",style:_e(e.selected?"transform: scale(0.95);":"")},[l(R,{class:A([g(C).dark.isActive?"text-grey-4":"text-grey-9","dashboard-card q-pa-md"])},{default:i(()=>[P((w(),I(W,{ratio:1/1,style:{width:"100%"}},{default:i(()=>[a("img",{src:g(X)+"/products/"+e.row.image,class:"dashboard-image"},null,8,It)]),_:2},1024)),[[U]]),a("div",Qt,s(e.row.name),1),a("div",Dt,s(e.row.category),1),l(_,{class:"q-pb-xl"},{default:i(()=>{var t,b,d,k,se;return[a("div",Pt,[a("span",Et,s(n.$t("dashboard.main.product.data.minPurchase"))+" :",1),r(" "+s(g(q)(e.row.min_purchase)),1)]),a("div",Lt,[a("span",Rt,s(n.$t("dashboard.main.product.data.sellingPrice"))+" :",1),r(" "+s((t=g(q)(e.row.selling_price))!=null?t:"-"),1)]),a("div",At,[a("span",Bt,s(n.$t("dashboard.main.product.data.purchasePrice"))+" :",1),r(" "+s(g(q)(e.row.purchase_price)),1)]),a("div",Ft,[a("span",St,s(n.$t("dashboard.main.product.data.unit"))+" :",1),r(" "+s(e.row.unit),1)]),a("div",Mt,[a("span",jt,s(n.$t("dashboard.main.product.data.weight"))+" :",1),r(" "+s((b=e.row.weight)!=null?b:"-"),1)]),a("div",zt,[a("span",Nt,s(n.$t("dashboard.main.product.data.volumeDetail"))+" :",1),r(" "+s((d=e.row.length)!=null?d:"-")+"cm x "+s((k=e.row.width)!=null?k:"-")+"cm x "+s((se=e.row.height)!=null?se:"-")+"cm ",1)]),a("div",Ot,[e.row.status==1?(w(),I(K,{key:0,color:"green","text-color":"white",icon:"task_alt",label:n.$t("dashboard.main.product.data.statusActive")},null,8,["label"])):J("",!0),e.row.status==0?(w(),I(K,{key:1,color:"red","text-color":"white",icon:"warning",label:n.$t("dashboard.main.product.data.statusInactive")},null,8,["label"])):J("",!0)]),a("div",Gt,[l(v,{color:"warning",field:"edit",icon:"edit",class:"q-mx-xs",onClick:H=>e.row.editItemDialog=!0,dense:"",round:""},{default:i(()=>[l(Z,{modelValue:e.row.editItemDialog,"onUpdate:modelValue":H=>e.row.editItemDialog=H,"transition-show":"slide-up","transition-hide":"slide-down","full-width":"","full-height":"",persistent:""},{default:i(()=>[l(re,{onEdited:H=>V(e.row),item:e.row},null,8,["onEdited","item"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),l(v,{color:"red",field:"delete",icon:"delete",class:"q-mx-xs",onClick:H=>B(e.row),dense:"",round:""},null,8,["onClick"])])]}),_:2},1024)]),_:2},1032,["class"])],4)]),_:1},8,["pagination","class","rows","hide-header","grid","filter","title"])]),_:1})}}};export{bl as default};
